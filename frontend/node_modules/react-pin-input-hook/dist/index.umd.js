!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],n):n((e||self).reactPinInputHook={},e.react)}(this,function(e,n){function t(e){if(e&&e.__esModule)return e;var n=Object.create(null);return e&&Object.keys(e).forEach(function(t){if("default"!==t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}}),n.default=e,n}var r=/*#__PURE__*/t(n);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},u.apply(this,arguments)}e.usePinInput=function(e){var n=void 0===e?{}:e,t=n.values,o=n.onChange,i=n.onComplete,l=n.actionRef,a=n.autoFocus,c=void 0!==a&&a,f=n.defaultValues,s=void 0===f?Array(6).fill(""):f,d=n.type,v=void 0===d?"numeric":d,p=n.otp,b=void 0!==p&&p,h=n.placeholder,g=void 0===h?"â—‹":h,y=n.disabled,k=void 0!==y&&y,C=n.mask,m=void 0!==C&&C,j=n.error,O=void 0!==j&&j,x=r.useState(s),I=x[0],P=x[1],w=r.useState(-1),A=w[0],F=w[1],B=void 0!==t,D=B?t:I,E="alphanumeric"===v,H=r.useRef(Array(D.length).fill(null)),M=r.useCallback(function(e){var n;void 0===e&&(e=0),null==(n=H.current[e])||n.focus()},[]);r.useEffect(function(){c&&M()},[c,M]);var R=r.useCallback(function(){var e;null==(e=H.current[A])||e.blur()},[A]);r.useImperativeHandle(l,function(){return{focus:function(e){void 0===e&&(e=0);var n=D.findIndex(function(e){return!e});M(O?-1===n?e:n:e)},blur:R}},[R,M,D,O]);var S=r.useCallback(function(e){return function(n){H.current[e]=n}},[]),T=r.useCallback(function(e){B||P(e),null==o||o(e)},[B,P,o]),$=r.useCallback(function(e){return function(n){var t=n.target.value;if(t=t.trim(),(E?/^[a-z\d]*$/i:/^\d*$/).test(t))if(E&&(t=t.toUpperCase()),t.length>2)t.length===D.length&&(T(t.split("")),null==i||i(t));else{if(2===t.length){var r=D[e];if(r===t[0])t=t[1];else{if(r!==t[1])return;t=t[0]}}var u=D.slice();if(u[e]=t,T(u),t&&(u.includes("")||null==i||i(u.join("")),e!==D.length-1))if(O){var o=u.findIndex(function(e){return!e});-1!==o&&M(o)}else M(e+1)}}},[E,D,T,i,M,O]),_=r.useCallback(function(e){return function(n){"Backspace"===n.key&&!D[e]&&e&&M(e-1)}},[D,M]),q=r.useCallback(function(e){var n=(void 0===e?{}:e).focus,t=void 0!==n&&n;T(Array(D.length).fill("")),t?M():R()},[T,D,M,R]),z=r.useCallback(function(e){return function(){F(e)}},[]),K=r.useCallback(function(){F(-1)},[]),U=-1!==A;return{fields:D.map(function(e,n){return u({ref:S(n),value:e,disabled:k,autoComplete:b?"one-time-code":"off",inputMode:E?"text":"numeric",type:m?"password":"text",placeholder:U?"":g},!k&&{onBlur:K,onFocus:z(n),onChange:$(n),onKeyDown:_(n)})}),clear:q,isFocused:U}}});
//# sourceMappingURL=index.umd.js.map
